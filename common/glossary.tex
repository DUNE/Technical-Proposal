%%%%%%     START ADDING WORDS BELOW LINE 50    %%%%%%%%

% see dune-words.tex for explanation.

\usepackage[acronyms,toc]{glossaries}
\makeglossaries


\newcommand{\dshort}[1]{\acrshort{abbrev-#1}}
\newcommand{\dlong}[1]{\acrlong{abbrev-#1}}

\newcommand{\dword}[1]{\gls{#1}}
\newcommand{\dwords}[1]{\glspl{#1}}
\newcommand{\Dword}[1]{\Gls{#1}}
\newcommand{\Dwords}[1]{\Glspl{#1}}


% \newduneword{label}{term}{description}
\newcommand{\newduneword}[3]{
    \newglossaryentry{#1}{
        text={#2},
        long={#2},
        name={\glsentrylong{#1}},
        first={\glsentryname{#1}},
        firstplural={\glsentrylong{#1}\glspluralsuffix},
        description={#3}
    }
}

%                 1      2     3       4
% \newduneabbrev{label}{abbrev}{term}{description}
\newcommand{\newduneabbrev}[4]{
  % this makes acronym entries even if they neither term or abbrev is
  % referenced in the text.
  % \newacronym[see={[Glossary:]{#1}}]{abbrev-#1}{#2}{#3}
  \newacronym{abbrev-#1}{#2}{#3}
  \newglossaryentry{#1}{
    text={#2},
    long={#3},
    name={\glsentrylong{#1}{} (\glsentrytext{#1}{})},
    first={\glsentryname{#1}},
    firstplural={\glsentrylong{#1}\glspluralsuffix{} (\glsentrytext{#1}\glspluralsuffix{})},
    description={#4}
  }
}

%%%%%%     START ADDING WORDS, IN ALPHABETICAL ORDER IF POSSIBLE!    %%%%%%%%

% Model to copy

%\newduneword{abc}{ABC's real name}{Sentence or two describing ABC. It can use other dunewords defined here, e.g., \gls{fe}.}





\newduneabbrev{sp}{SP}{single-phase}{Distinguishes one of the four
  \SI{10}{\kton} \glspl{detmodule} of the DUNE far detector by the
  fact that it operates using argon in just its liquid phase.}


\newduneabbrev{dp}{DP}{dual-phase}{Distinguishes one of the four
  \SI{10}{\kton} \glspl{detmodule} of the DUNE far detector by the
  fact that it operates using argon in both gas and liquid phases.}

\newduneabbrev{pds}{PDS}{photon detection system}{The \gls{submodule}
  system sensitive to light produced in the LAr}

% fixme: pds needs better words added.
\newduneabbrev{apa}{APA}{anode plane assembly}{One unit the SP
  detector containing the elements sensitive to activity in the LAr. 
  It contains two faces each of three planes of wires, cold
  electronics and photo detection system.} 


% front-end
\newduneabbrev{fe}{FE}{front-end}{The front-end refers a point which is
  ``upstream'' of the data flow for a particular subsystem. 
  For example the front-end electronics is where the cold electronics
  meet the sense wires of the TPC and the front-end DAQ is where the
  DAQ meets the output of the electronics}

% analog digital converter
\newduneabbrev{adc}{ADC}{analog digital converter}{A sampling of a voltage
  resulting in a discrete integer count corresponding in some way to
  the input}

% data aquisition
\newduneabbrev{daq}{DAQ}{data aquisition}{The Data Acquisition system
  accepts data from the detector FE electronics, buffers
  it, performs a \gls{trigdecision}, builds events from the selected
  data and delivers the result to the offline \gls{diskbuffer}}

% detector module
\newduneword{detmodule}{detector module}{The entire DUNE far detector is
  segmented into four modules, each with a nominal \SI{10}{\kton}
  fiducial mass}

% detector unit
\newduneword{detunit}{detector unit}{A \gls{submodule} may be partitioned
  into a number of similar parts. 
  For example the single-phase TPC \gls{submodule} is made up of APA
  units}

% secondary DAQ buffer
\newduneword{diskbuffer}{secondary DAQ buffer}{A secondary
  \dshort{daq} buffer holds a small subset of the full rate as
  selected by a \gls{trigcommand}. 
  This buffer also marks the interface with the DUNE Offline}

% data quality monitoring
\newduneabbrev{dqm}{DQM}{data quality monitoring}{Analysis of the raw
  data to monitor the integrity of the data and the performance of the
  detectors and their electronics. This type of monitoring may be
  performed in real time, within the \gls{daq} system, or in later
  stages of processing, using disk files as input}

% DAQ dump buffer
\newduneword{dumpbuffer}{DAQ dump buffer}{This \dshort{daq} buffer
  accepts a high-rate data stream, in aggregate, from an associated
  \gls{submodule} sufficient to collect all data likely relevant to
  a potential Supernova Burst.}


% Global Trigger Logic
\newduneabbrev{gtl}{ETL}{External Trigger Logic}{Trigger processing
  which consumes \gls{detmodule} level \gls{trignote} information
  and other global sources of trigger input and emits
  \gls{trigcommand} information back to the \glspl{mtl}}

\newduneword{trignote}{trigger notification}{Information provided by
  \gls{mtl} to \gls{gtl} about \gls{trigdecision} its processing}

% trigger primitive
\newduneword{trigprimitive}{trigger primitive}{Information derived by
  the DAQ \gls{fe} hardware and which describes a region of space (eg,
  one or several neighboring channels) and time (eg, a contiguous set
  of ADC sample ticks) associated with some activity}

\newduneword{externtrigger}{external trigger candidate}{Information
  provided to the \gls{mtl} about events external to a
  \gls{detmodule} so that it may be considered in forming
  \glspl{trigcommand}}

\newduneabbrev{oob}{OOB dispatcher}{out of band trigger command
  dispatcher}{This component is responsible for dispatching a SNB
  trigger command to all 600 RCEs in the SP detector module.}

\newduneabbrev{mtl}{MTL}{Module Trigger Logic}{Trigger processing
  which consumes \gls{detunit} level \gls{trigcommand} information
  and emits \glspl{trigcommand}. 
  It provides the \gls{gtl} with \glspl{trignote} and receives back any
  \glspl{externtrigger}}

% octant
\newduneword{octant}{octant}{Any of the eight parts into which 4$\pi$
  is divided by three mutually perpendicular axes. 
  In particular in referencing the value for the mixing angle
  $\theta_{23}$}

% primary DAQ buffer
\newduneword{ringbuffer}{primary DAQ buffer}{A buffer in the
  DAQ with sufficient size to store data long enough for a
  trigger decision to be made and with sufficient endurance and
  throughput to allow constant flow of full-stream data}

% sub-detector ??? %%%%%%%%%%%%%%%%%%%      Why not ``subdet''? (Anne)  %%%%%% ???????
\newduneword{submodule}{sub-detector}{A detector unit of granularity less
  than one \gls{detmodule} such as the TPC of the single-phase
  \gls{detmodule}}

\newduneword{trigcandidate}{trigger candidate}{Summary information derived
  from the full data stream and representing a contribution toward
  forming a \gls{trigdecision}}

% trigger command
\newduneword{trigcommand}{trigger command}{Information derived from
  one or more \glspl{trigcandidate} and which directs elements of the
  \gls{detmodule} to read out a portion of the data stream}

% trigger command message
\newduneabbrev{tcm}{TCM}{trigger command message}{A message flowing
  down the trigger hierarchy global to local context}

% trigger decision
\newduneword{trigdecision}{trigger decision}{The process by which
  \glspl{trigcandidate} are converted into \glspl{trigcommand}}

% trigger primitive message
\newduneabbrev{tpm}{TPM}{trigger primitive message}{A message flowing
  up the trigger hierarchy from local to global context}

\newduneabbrev{eb}{EB}{event builder}{A software agent servicing one
  \gls{detmodule} by executing \glspl{trigcommand} by reading out
  the requested data}


% \fixme{Needs improvement}
\newduneabbrev{cob}{COB}{Cluster On Board}{Four \glspl{rce} together
  with networking an other hardware}

% \fixme{Needs improvement}
\newduneabbrev{rce}{RCE}{Reconfigurable Computing Element}{One of four
  nodes in a \gls{cob} which consists of ARM CPU and FPGA resources}

% \fixme{Needs improvement}
\newduneabbrev{atca}{ATCA}{ATCA}{A computer platform} 

\newduneabbrev{rf}{RF}{radio frequency}{Electromagnetic emissions
  which are within the frequency band of sensitivity of the detector
  electronics.}

% \fixme{Needs improvement}
\newduneabbrev{fpga}{FPGA}{Field Programmable Gate Array}{An
  integrated circuit technology which the hardware to be reconfigured
  to execute different algorithms after manufacture}

\newduneabbrev{felix}{FELIX}{Front-End Link eXchange}{A
  high-throughput interface between front-end and trigger electronics
  and the standard PCIe computer bus}

\newduneabbrev{fec}{FEC}{front-end computer}{Each \gls{detunit} of a
  certain granularity, such as two SP APAs, has one front-end computer
  which receives data from the readout hardware, hosts the primary DAQ
  memory buffer for that data, emits trigger candidates derived from
  that data and satisfies requests for producing subsets of that data
  for egress}

\newduneabbrev{femb}{FEMB}{Front-End Mother Board}{Refers a unit of
  the \gls{sp} cold electronics which contains the front-end amplifier
  and ADC ASICs covering 128 channels}

\newduneword{protodune}{ProtoDUNE}{Two prototype detectors operated in
  a CERN beam test. 
  One prototyping \gls{sp} and the other \gls{dp} technology}

% oh boy, here's that dirty word: "event"
\newduneword{rawevent}{DAQ event block}{The unit of data output by the
  DAQ. 
  It contains trigger and detector data spanning a unique, contiguous
  time period and a subset of the detector channels}

\newduneabbrev{ssd}{SSD}{solid-state disk}{Any storage device which
  may provide sufficient write throughput to receive, collectively and
  distributed, the sustained full rate of data from a \gls{detmodule}
  for many seconds}

% fixme: this needs improvement
\newduneabbrev{hlt}{HLT}{high-level trigger}{A source of triggering at the module level.}

\newduneword{readout window}{readout window}{A fixed, atomic and
  continuous period of time over which data from a \gls{detmodule}, in
  whole or in part, is recorded. 
  This period may differ based on the trigger than initiated the
  readout}

\newduneabbrev{zs}{ZS}{zero-suppression}{To delete some portion of a data stream which does not significantly deviate from zero or intrinsic noise levels.  It may be applied at different granularity from per-channel to per \dword{detunit}}

% fixme: maybe another sentence
\newduneabbrev{rc}{RC}{run control}{The system for configuring, starting and terminating the DAQ}

\newduneabbrev{snb}{SBN}{supernova neutrino burst}{A prompt and brief increase in the flux of low energy neutrinos.  Can also refer to a trigger command type which may be due to an SNB or detector conditions which can mimic its interaction signature}

\newduneabbrev{pps}{1PPS signal}{one-pulse-per-second signal}{An electrical signal with a fast rise time and which arrives in real time with a precise period of one second}

\newduneabbrev{sls}{SLS}{spill location system}{A system residing at the DUNE far detector site which provides information, possibly predictive, indicating periods of time when neutrinos are being produced by the Fermilab Main Injector beam spills}

\newduneabbrev{wib}{WIB}{warm interface board}{Digital electronics situated just outside the SP cryostat which receives digital data from the FEMBs over cold copper connections and sends it to the RCE FE readout hardware}

\newduneabbrev{sipm}{SiPM}{silicon photomultiplier}{A solid-state avalanche photo-diode sensitive to single photo-electron signals}

\newduneabbrev{cisc}{CISC}{cryogenics and slow controls}{A DUNE consortium responsible for the named components}

% PTP
% GPS
% CUC
% NTP
% SPTS
% Micro-TCA crates
% cryostat
% UDP
